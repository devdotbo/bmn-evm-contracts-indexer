# PostgreSQL Database Configuration
POSTGRES_USER=ponder
POSTGRES_PASSWORD=ponder123
POSTGRES_DB=bmn_indexer
POSTGRES_PORT=5432

# PostgreSQL Performance Tuning
# These values are optimized for a server with 4GB RAM
# Adjust based on your available resources
POSTGRES_MAX_CONNECTIONS=200
POSTGRES_SHARED_BUFFERS=256MB
POSTGRES_EFFECTIVE_CACHE_SIZE=1GB
POSTGRES_MAINTENANCE_WORK_MEM=64MB
POSTGRES_CHECKPOINT_COMPLETION_TARGET=0.9
POSTGRES_WAL_BUFFERS=16MB
POSTGRES_DEFAULT_STATISTICS_TARGET=100
POSTGRES_RANDOM_PAGE_COST=1.1
POSTGRES_EFFECTIVE_IO_CONCURRENCY=200
POSTGRES_WORK_MEM=4MB
POSTGRES_MIN_WAL_SIZE=80MB
POSTGRES_MAX_WAL_SIZE=1GB

# PostgreSQL Logging
POSTGRES_LOG_STATEMENT=none  # none, ddl, mod, all
POSTGRES_LOG_DURATION=off
POSTGRES_LOG_MIN_DURATION_STATEMENT=1000  # Log queries slower than 1 second
POSTGRES_LOG_CONNECTIONS=off
POSTGRES_LOG_DISCONNECTIONS=off

# PostgreSQL Resource Limits
POSTGRES_CPU_LIMIT=2
POSTGRES_MEMORY_LIMIT=2G
POSTGRES_CPU_RESERVATION=0.5
POSTGRES_MEMORY_RESERVATION=512M

# PostgreSQL Data Paths (relative to project root)
POSTGRES_DATA_PATH=./data/postgres
POSTGRES_LOGS_PATH=./logs/postgres
POSTGRES_BACKUP_PATH=./backup/postgres

# PgAdmin Configuration
PGADMIN_EMAIL=admin@bmn.local
PGADMIN_PASSWORD=admin123
PGADMIN_PORT=5433

# PgAdmin Settings
PGADMIN_MAX_SESSION_IDLE_TIME=60
PGADMIN_COOKIE_SECURE=False  # Set to True in production with HTTPS
PGADMIN_LOG_LEVEL=40  # 10=DEBUG, 20=INFO, 30=WARNING, 40=ERROR, 50=CRITICAL
PGADMIN_ENHANCED_COOKIE_PROTECTION=True
PGADMIN_ALLOW_SAVE_PASSWORD=True
PGADMIN_MAX_LOGIN_ATTEMPTS=3

# PgAdmin Resource Limits
PGADMIN_CPU_LIMIT=1
PGADMIN_MEMORY_LIMIT=512M
PGADMIN_CPU_RESERVATION=0.25
PGADMIN_MEMORY_RESERVATION=256M

# PgAdmin Data Path
PGADMIN_DATA_PATH=./data/pgadmin

# Network Configuration
POSTGRES_NETWORK_SUBNET=172.28.0.0/16

# Environment
ENV=production